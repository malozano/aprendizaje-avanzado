<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!--
  Figura 10 – Crecimiento level-wise (XGBoost) vs. leaf-wise (LightGBM).
  Ambos árboles tienen 4 hojas pero se construyen de forma muy diferente.
  Editable con Inkscape o cualquier editor SVG.
-->

<svg
   width="780"
   height="400"
   viewBox="0 0 780 400"
   font-family="Georgia, serif"
   version="1.1"
   id="svg48"
   sodipodi:docname="fig10_levelwise_vs_leafwise.svg"
   inkscape:version="1.4.3 (0d15f75, 2025-12-25)"
   xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"
   xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"
   xmlns="http://www.w3.org/2000/svg"
   xmlns:svg="http://www.w3.org/2000/svg">
  <sodipodi:namedview
     id="namedview48"
     pagecolor="#ffffff"
     bordercolor="#000000"
     borderopacity="0.25"
     inkscape:showpageshadow="2"
     inkscape:pageopacity="0.0"
     inkscape:pagecheckerboard="0"
     inkscape:deskcolor="#d1d1d1"
     inkscape:zoom="1.4061091"
     inkscape:cx="417.81966"
     inkscape:cy="216.55504"
     inkscape:window-width="1691"
     inkscape:window-height="956"
     inkscape:window-x="0"
     inkscape:window-y="30"
     inkscape:window-maximized="0"
     inkscape:current-layer="level-wise" />
  <defs
     id="defs2">
    <marker
       id="arr"
       markerWidth="8"
       markerHeight="8"
       refX="6"
       refY="3"
       orient="auto">
      <path
         d="M0,0 L0,6 L8,3 z"
         fill="#374151"
         id="path1" />
    </marker>
    <marker
       id="arr-red"
       markerWidth="8"
       markerHeight="8"
       refX="6"
       refY="3"
       orient="auto">
      <path
         d="M0,0 L0,6 L8,3 z"
         fill="#DC2626"
         id="path2" />
    </marker>
  </defs>
  <!-- ════════════════════════════════════════════════════════════════════════
       PANEL IZQUIERDO – Level-wise (XGBoost / GBM)
       ════════════════════════════════════════════════════════════════════════ -->
  <g
     id="level-wise">
    <rect
       x="15"
       y="15"
       width="360"
       height="370"
       rx="10"
       fill="#F0F9FF"
       stroke="#BAE6FD"
       stroke-width="1.5"
       id="rect2" />
    <text
       x="195"
       y="42"
       text-anchor="middle"
       font-size="14"
       font-weight="bold"
       fill="#0C4A6E"
       id="text2">
      Level-wise (XGBoost / GBM)
    </text>
    <text
       x="195"
       y="60"
       text-anchor="middle"
       font-size="10.5"
       fill="#0369A1"
       id="text3">
      Se expanden todos los nodos de un nivel antes de pasar al siguiente
    </text>
    <!-- ── Nivel 0: raíz ── -->
    <text
       x="34"
       y="92"
       font-size="10px"
       fill="#6b7280"
       id="text4">Nivel 0</text>
    <rect
       x="155"
       y="80"
       width="80"
       height="30"
       rx="6"
       fill="#0EA5E9"
       stroke="#0284C7"
       stroke-width="1.5"
       id="rect4" />
    <text
       x="195"
       y="100"
       text-anchor="middle"
       font-size="11"
       fill="white"
       font-weight="bold"
       id="text5">raíz</text>
    <!-- Ramas nivel 0 → 1 -->
    <line
       x1="175"
       y1="110"
       x2="125"
       y2="150"
       stroke="#374151"
       stroke-width="1.5"
       marker-end="url(#arr)"
       id="line5" />
    <line
       x1="215"
       y1="110"
       x2="265"
       y2="150"
       stroke="#374151"
       stroke-width="1.5"
       marker-end="url(#arr)"
       id="line6" />
    <text
       x="122.06517"
       y="132.15527"
       font-size="9px"
       fill="#6b7280"
       id="text6">x₁≤t₁</text>
    <text
       x="246.49074"
       y="132.15527"
       font-size="9px"
       fill="#6b7280"
       id="text7">x₁&gt;t₁</text>
    <!-- ── Nivel 1 ── -->
    <text
       x="32"
       y="178"
       font-size="10"
       fill="#6B7280"
       id="text8">Nivel 1</text>
    <!-- Nodo izquierdo nivel 1 -->
    <rect
       x="80"
       y="150"
       width="80"
       height="30"
       rx="6"
       fill="#38BDF8"
       stroke="#0284C7"
       stroke-width="1.5"
       id="rect8" />
    <text
       x="120"
       y="170"
       text-anchor="middle"
       font-size="11"
       fill="white"
       id="text9">N₁</text>
    <!-- Nodo derecho nivel 1 -->
    <rect
       x="230"
       y="150"
       width="80"
       height="30"
       rx="6"
       fill="#38BDF8"
       stroke="#0284C7"
       stroke-width="1.5"
       id="rect9" />
    <text
       x="270"
       y="170"
       text-anchor="middle"
       font-size="11"
       fill="white"
       id="text10">N₂</text>
    <!-- Indicador: ambos del mismo nivel se expanden juntos -->
    <rect
       x="72"
       y="143"
       width="246"
       height="46"
       rx="8"
       fill="none"
       stroke="#FCD34D"
       stroke-width="2"
       stroke-dasharray="5,3"
       id="rect10" />
    <text
       x="195"
       y="200"
       text-anchor="middle"
       font-size="9.5"
       fill="#B45309"
       id="text11">
      ← Ambos nodos se expanden en paralelo →
    </text>
    <!-- Ramas nivel 1 → 2 -->
    <line
       x1="102"
       y1="180"
       x2="70"
       y2="230"
       stroke="#374151"
       stroke-width="1.5"
       marker-end="url(#arr)"
       id="line11" />
    <line
       x1="138"
       y1="180"
       x2="165"
       y2="230"
       stroke="#374151"
       stroke-width="1.5"
       marker-end="url(#arr)"
       id="line12" />
    <line
       x1="252"
       y1="180"
       x2="220"
       y2="230"
       stroke="#374151"
       stroke-width="1.5"
       marker-end="url(#arr)"
       id="line13" />
    <line
       x1="288"
       y1="180"
       x2="320"
       y2="230"
       stroke="#374151"
       stroke-width="1.5"
       marker-end="url(#arr)"
       id="line14" />
    <!-- ── Nivel 2 (hojas) ── -->
    <text
       x="32"
       y="225"
       font-size="10px"
       fill="#6b7280"
       id="text14">Nivel 2</text>
    <text
       x="53.732906"
       y="269.77957"
       font-size="10px"
       fill="#16a34a"
       id="text15">(hojas)</text>
    <!-- 4 hojas con ganancias distintas -->
    <rect
       x="38"
       y="230"
       width="62"
       height="30"
       rx="6"
       fill="#BBF7D0"
       stroke="#16A34A"
       stroke-width="1.5"
       id="rect15" />
    <text
       x="69"
       y="250"
       text-anchor="middle"
       font-size="10"
       fill="#14532D"
       id="text16">
      H₁ g=4.2
    </text>
    <rect
       x="125"
       y="230"
       width="62"
       height="30"
       rx="6"
       fill="#bbf7d0"
       stroke="#16a34a"
       stroke-width="1.5"
       id="rect16" />
    <text
       x="156"
       y="250"
       text-anchor="middle"
       font-size="10px"
       fill="#14532d"
       id="text17">H₂ g=1.1</text>
    <rect
       x="194"
       y="230"
       width="62"
       height="30"
       rx="6"
       fill="#bbf7d0"
       stroke="#16a34a"
       stroke-width="1.5"
       id="rect17" />
    <text
       x="225"
       y="250"
       text-anchor="middle"
       font-size="10px"
       fill="#14532d"
       id="text18">H₃ g=0.8</text>
    <rect
       x="290"
       y="230"
       width="62"
       height="30"
       rx="6"
       fill="#BBF7D0"
       stroke="#16A34A"
       stroke-width="1.5"
       id="rect18" />
    <text
       x="321"
       y="250"
       text-anchor="middle"
       font-size="10"
       fill="#14532D"
       id="text19">
      H₄ g=3.5
    </text>
    <!-- Árbol final resultante: balanceado -->
    <text
       x="277"
       y="311"
       text-anchor="middle"
       font-size="10px"
       fill="#0369a1"
       id="text20">Árbol resultante: balanceado</text>
    <!-- Árbol esquemático balanceado -->
    <circle
       cx="195"
       cy="308"
       r="10"
       fill="#0EA5E9"
       stroke="#0284C7"
       stroke-width="1.5"
       id="circle20" />
    <line
       x1="188"
       y1="316"
       x2="163"
       y2="335"
       stroke="#374151"
       stroke-width="1.3"
       id="line20" />
    <line
       x1="202"
       y1="316"
       x2="227"
       y2="335"
       stroke="#374151"
       stroke-width="1.3"
       id="line21" />
    <circle
       cx="158"
       cy="340"
       r="8"
       fill="#38BDF8"
       stroke="#0284C7"
       stroke-width="1.2"
       id="circle21" />
    <circle
       cx="232"
       cy="340"
       r="8"
       fill="#38BDF8"
       stroke="#0284C7"
       stroke-width="1.2"
       id="circle22" />
    <line
       x1="152"
       y1="347"
       x2="138"
       y2="363"
       stroke="#374151"
       stroke-width="1.2"
       id="line22" />
    <line
       x1="164"
       y1="347"
       x2="178"
       y2="363"
       stroke="#374151"
       stroke-width="1.2"
       id="line23" />
    <line
       x1="226"
       y1="347"
       x2="212"
       y2="363"
       stroke="#374151"
       stroke-width="1.2"
       id="line24" />
    <line
       x1="238"
       y1="347"
       x2="252"
       y2="363"
       stroke="#374151"
       stroke-width="1.2"
       id="line25" />
    <circle
       cx="133"
       cy="367"
       r="7"
       fill="#BBF7D0"
       stroke="#16A34A"
       stroke-width="1.2"
       id="circle25" />
    <circle
       cx="183"
       cy="367"
       r="7"
       fill="#BBF7D0"
       stroke="#16A34A"
       stroke-width="1.2"
       id="circle26" />
    <circle
       cx="207"
       cy="367"
       r="7"
       fill="#BBF7D0"
       stroke="#16A34A"
       stroke-width="1.2"
       id="circle27" />
    <circle
       cx="257"
       cy="367"
       r="7"
       fill="#BBF7D0"
       stroke="#16A34A"
       stroke-width="1.2"
       id="circle28" />
  </g>
  <!-- ── Separador ─────────────────────────────────────────────────────────── -->
  <line
     x1="393"
     y1="30"
     x2="393"
     y2="370"
     stroke="#E5E7EB"
     stroke-width="1.5"
     stroke-dasharray="6,4"
     id="line28" />
  <!-- ════════════════════════════════════════════════════════════════════════
       PANEL DERECHO – Leaf-wise (LightGBM)
       ════════════════════════════════════════════════════════════════════════ -->
  <g
     id="leaf-wise">
    <rect
       x="407"
       y="15"
       width="360"
       height="370"
       rx="10"
       fill="#FFF7ED"
       stroke="#FED7AA"
       stroke-width="1.5"
       id="rect28" />
    <text
       x="587"
       y="42"
       text-anchor="middle"
       font-size="14"
       font-weight="bold"
       fill="#7C2D12"
       id="text29">
      Leaf-wise (LightGBM)
    </text>
    <text
       x="587"
       y="60"
       text-anchor="middle"
       font-size="10.5"
       fill="#C2410C"
       id="text30">
      En cada paso se expande la hoja con mayor ganancia
    </text>
    <!-- ── Paso 1: raíz → mejor split ── -->
    <text
       x="517"
       y="98"
       font-size="10px"
       fill="#6b7280"
       id="text31">Paso 1</text>
    <rect
       x="547"
       y="80"
       width="80"
       height="30"
       rx="6"
       fill="#F97316"
       stroke="#EA580C"
       stroke-width="1.5"
       id="rect31" />
    <text
       x="587"
       y="100"
       text-anchor="middle"
       font-size="11"
       fill="white"
       font-weight="bold"
       id="text32">raíz</text>
    <line
       x1="567"
       y1="110"
       x2="517"
       y2="150"
       stroke="#374151"
       stroke-width="1.5"
       marker-end="url(#arr)"
       id="line32" />
    <line
       x1="607"
       y1="110"
       x2="657"
       y2="150"
       stroke="#374151"
       stroke-width="1.5"
       marker-end="url(#arr)"
       id="line33" />
    <!-- Paso 1: dos nodos, N₁ tiene mayor ganancia -->
    <text
       x="431"
       y="176"
       font-size="10px"
       fill="#6b7280"
       id="text33">Paso 2</text>
    <rect
       x="472"
       y="150"
       width="80"
       height="30"
       rx="6"
       fill="#FB923C"
       stroke="#EA580C"
       stroke-width="1.5"
       id="rect33" />
    <text
       x="512"
       y="165"
       text-anchor="middle"
       font-size="10"
       fill="white"
       id="text34">
      N₁ g=4.2 ★
    </text>
    <rect
       x="622"
       y="150"
       width="80"
       height="30"
       rx="6"
       fill="#FED7AA"
       stroke="#FCA5A5"
       stroke-width="1.5"
       id="rect34" />
    <text
       x="662"
       y="165"
       text-anchor="middle"
       font-size="10"
       fill="#7C2D12"
       id="text35">
      N₂ g=1.1
    </text>
    <!-- Indicador: solo N₁ se expande -->
    <rect
       x="464"
       y="143"
       width="96"
       height="46"
       rx="8"
       fill="none"
       stroke="#DC2626"
       stroke-width="2"
       id="rect35" />
    <text
       x="486"
       y="138"
       text-anchor="middle"
       font-size="9.5px"
       fill="#dc2626"
       id="text36">Máxima ganancia</text>
    <!-- Paso 2: N₁ se expande en H₁ y H₂ -->
    <line
       x1="494"
       y1="180"
       x2="464"
       y2="230"
       stroke="#DC2626"
       stroke-width="2"
       marker-end="url(#arr-red)"
       id="line36" />
    <line
       x1="530"
       y1="180"
       x2="555"
       y2="230"
       stroke="#DC2626"
       stroke-width="2"
       marker-end="url(#arr-red)"
       id="line37" />
    <text
       x="419.31055"
       y="218.01851"
       font-size="10px"
       fill="#6b7280"
       id="text37">Paso 3</text>
    <rect
       x="430"
       y="230"
       width="68"
       height="30"
       rx="6"
       fill="#fecaca"
       stroke="#ef4444"
       stroke-width="1.5"
       id="rect37" />
    <text
       x="464"
       y="250"
       text-anchor="middle"
       font-size="10"
       fill="#7F1D1D"
       id="text38">
      H₁ g=3.5 ★
    </text>
    <rect
       x="525"
       y="230"
       width="68"
       height="30"
       rx="6"
       fill="#FEF3C7"
       stroke="#F59E0B"
       stroke-width="1.2"
       id="rect38" />
    <text
       x="559"
       y="250"
       text-anchor="middle"
       font-size="10"
       fill="#78350F"
       id="text39">
      H₂ g=0.8
    </text>
    <!-- N₂ no se expande aún -->
    <!-- Indicador H₁ se expande -->
    <rect
       x="422"
       y="223"
       width="84"
       height="46"
       rx="8"
       fill="none"
       stroke="#DC2626"
       stroke-width="2"
       id="rect39" />
    <text
       x="462"
       y="279"
       text-anchor="middle"
       font-size="9.5px"
       fill="#dc2626"
       id="text40">Máxima ganancia</text>
    <!-- Resultado: árbol asimétrico -->
    <text
       x="683"
       y="302"
       text-anchor="middle"
       font-size="10px"
       fill="#c2410c"
       id="text41">Árbol resultante: asimétrico</text>
    <!-- Árbol esquemático asimétrico -->
    <circle
       cx="600"
       cy="299"
       r="10"
       fill="#f97316"
       stroke="#ea580c"
       stroke-width="1.5"
       id="circle41" />
    <line
       x1="593"
       y1="307"
       x2="565"
       y2="326"
       stroke="#374151"
       stroke-width="1.3"
       id="line41" />
    <line
       x1="607"
       y1="307"
       x2="635"
       y2="326"
       stroke="#374151"
       stroke-width="1.3"
       id="line42" />
    <circle
       cx="560"
       cy="331"
       r="8"
       fill="#fb923c"
       stroke="#ea580c"
       stroke-width="1.2"
       id="circle42" />
    <!-- rama derecha es hoja directa -->
    <circle
       cx="640"
       cy="331"
       r="7"
       fill="#fed7aa"
       stroke="#fca5a5"
       stroke-width="1.2"
       id="circle43" />
    <line
       x1="554"
       y1="338"
       x2="530"
       y2="352"
       stroke="#374151"
       stroke-width="1.2"
       id="line43" />
    <line
       x1="566"
       y1="338"
       x2="590"
       y2="352"
       stroke="#374151"
       stroke-width="1.2"
       id="line44" />
    <circle
       cx="525"
       cy="357"
       r="7"
       fill="#fecaca"
       stroke="#ef4444"
       stroke-width="1.2"
       id="circle44" />
    <!-- H₁ también se ramifica -->
    <line
       x1="519"
       y1="357"
       x2="507"
       y2="369"
       stroke="#374151"
       stroke-width="1.1"
       id="line45" />
    <line
       x1="531"
       y1="357"
       x2="543"
       y2="369"
       stroke="#374151"
       stroke-width="1.1"
       id="line46" />
    <circle
       cx="502"
       cy="372"
       r="6"
       fill="#fecaca"
       stroke="#ef4444"
       stroke-width="1"
       id="circle46" />
    <circle
       cx="548"
       cy="372"
       r="6"
       fill="#fecaca"
       stroke="#ef4444"
       stroke-width="1"
       id="circle47" />
    <circle
       cx="590"
       cy="357"
       r="7"
       fill="#fef3c7"
       stroke="#f59e0b"
       stroke-width="1.2"
       id="circle48" />
  </g>
</svg>
